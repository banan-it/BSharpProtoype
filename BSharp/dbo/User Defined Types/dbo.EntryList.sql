CREATE TYPE [dbo].[EntryList] AS TABLE (
	[Index]					INT,
	[DocumentIndex]			INT					NOT NULL,
	[Id]					INT,
	[DocumentId]			INT,
	[LineType]				NVARCHAR (255)		NOT NULL DEFAULT(N'manual-journals'),		
	[Direction]				SMALLINT			NOT NULL,
	[AccountId]				INT,
	[ResponsibilityCenterId]INT,
	[NoteId]				NVARCHAR (255),
	[AgentAccountId]		INT,
	[ResourceId]			INT,
	[MoneyAmount]			MONEY,
	[Mass]					DECIMAL,
	[Volume]				DECIMAL,
	[Count]					DECIMAL,
	[Time]					DECIMAL,
	[Value]					VTYPE,
	[ExpectedClosingDate]	DATETIMEOFFSET(7),
	[Reference]				NVARCHAR (255),
	[Memo]					NVARCHAR (255),
	[RelatedReference]		NVARCHAR (255),
	[RelatedResourceId]		INT,
	[RelatedAgentAccountId]	INT,
	[RelatedMoneyAmount]	MONEY,
	[RelatedMass]			DECIMAL,
	[RelatedVolume]			DECIMAL,
	[RelatedCount]			DECIMAL,
	[RelatedTime]			DECIMAL,
	[RelatedValue]			VTYPE,
	[EntityState]			NVARCHAR(255)		NOT NULL DEFAULT(N'Inserted'),
	PRIMARY KEY ([Index] ASC),
	INDEX IX_EntryList_DocumentIndex ([DocumentIndex]),
	CHECK ([Direction] IN (-1, 1)),
	CHECK ([EntityState] IN (N'Unchanged', N'Inserted', N'Updated', N'Deleted')),
	CHECK ([EntityState] <> N'Inserted' OR [Id] IS NULL)
);